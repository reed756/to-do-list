(()=>{"use strict";class t{constructor(t,e,a,d){this.title=t,this.description=e,this.dueDate=a,this.priority=d}}const e=(t,e)=>{t.push(e)},a=(t,e)=>{t.splice(e,1)},d=t=>"red"===t?"green":"orange"===t?"red":"green"===t?"orange":void 0;class n{constructor(t){this.name=t,this.array=[]}}const l=()=>{let t=document.querySelector(".listdiv"),e=document.createElement("form"),a=document.createElement("br"),d=document.createElement("br"),n=document.createElement("br"),l=document.createElement("br"),r=document.createElement("label"),u=document.createElement("input");r.textContent="Title:",u.setAttribute("data","title"),u.setAttribute("type","text");let i=document.createElement("label"),o=document.createElement("input");i.textContent="Description:",o.setAttribute("data","description"),o.setAttribute("type","text");let c=document.createElement("label"),s=document.createElement("input");c.textContent="Due Date:",s.setAttribute("data","duedate"),s.setAttribute("type","date");let m=document.createElement("label"),p=document.createElement("select");m.textContent="Priority:",p.setAttribute("data","priority");let b=document.createElement("option");b.textContent="Red",b.setAttribute("value","red");let h=document.createElement("option");h.textContent="Orange",h.setAttribute("value","orange");let C=document.createElement("option");C.textContent="Green",C.setAttribute("value","green");let v=document.createElement("button"),y=document.createElement("button");v.textContent="ADD TODO",v.setAttribute("type","button"),v.classList.add("add-button"),y.textContent="CANCEL",y.classList.add("cancel"),y.setAttribute("type","button"),v.setAttribute("data","add"),e.classList.add("add-form"),e.appendChild(r),e.appendChild(u),e.appendChild(a),e.appendChild(i),e.appendChild(o),e.appendChild(d),e.appendChild(c),e.appendChild(s),e.appendChild(n),e.appendChild(m),p.appendChild(b),p.appendChild(h),p.appendChild(C),e.appendChild(p),e.appendChild(l),e.appendChild(v),e.appendChild(y),t.appendChild(e)};!function(){let t=document.querySelector("#content"),e=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),n=document.createElement("h1"),l=document.createElement("button"),r=document.createElement("ul"),u=document.createElement("button");e.classList.add("default2"),a.classList.add("head-div"),d.classList.add("listdiv"),r.classList.add("defaultList"),r.innerText="DEFAULT",r.setAttribute("data","0"),n.textContent="Todo List",l.textContent="+",l.setAttribute("data",1),l.classList.add("add"),u.textContent="ADD PROJECT",u.classList.add("new-project"),a.appendChild(n),a.appendChild(u),e.appendChild(a),r.appendChild(l),d.appendChild(r),t.appendChild(e),t.appendChild(d)}();let r=[[]];r.push([]);let u=document.querySelector(".add"),i=document.querySelector(".new-project"),o=!1;i.addEventListener("click",(function(){if(!1===o){(()=>{let t=document.querySelector(".default2"),e=document.createElement("form"),a=document.createElement("label"),d=document.createElement("input"),n=document.createElement("button"),l=document.createElement("button"),r=document.createElement("div");r.classList.add("form-div"),a.textContent="Name of Project:",n.textContent="CREATE PROJECT",n.setAttribute("type","button"),n.classList.add("addproject"),l.textContent="CANCEL",l.classList.add("cancel"),e.classList.add("form"),l.setAttribute("type","button"),d.setAttribute("data","title"),d.setAttribute("type","text"),e.appendChild(a),e.appendChild(d),e.appendChild(n),e.appendChild(l),r.appendChild(e),t.appendChild(r)})(),o=!0;let u=document.querySelector(".cancel"),i=document.querySelector(".default2"),s=document.querySelector(".listdiv"),m=document.querySelector(".form-div"),p=document.querySelector(".addproject"),b=document.querySelector("[data='title']");p.addEventListener("click",(function(){let u=document.createElement("ul"),i=document.createElement("button"),m=document.createElement("button");i.setAttribute("type","button"),i.textContent="+",i.classList.add("add"),m.setAttribute("type","button"),m.textContent="X",m.classList.add("red"),u.textContent=`${b.value}`,u.appendChild(i),u.appendChild(m),s.appendChild(u);let p=new n(b.value);b.value="test",r.push(p),console.log(r.length),console.log(r),i.setAttribute("data",""+(r.length-1)),m.setAttribute("data",""+(r.length-1)),u.setAttribute("data",""+(r.length-1)),m.addEventListener("click",(function(){r.splice(u.attributes.data.value,1),s.removeChild(u);let t=document.querySelectorAll("ul[data]");for(let e=0;e<r.length-1;e++)t[e].setAttribute("data",`${e}`)})),c(),i.addEventListener("click",(function(){if(!1===o){l(),o=!0;let n=document.querySelector(".cancel"),s=document.querySelector(".listdiv"),m=document.querySelector("form"),p=document.querySelector("[data='title']"),b=document.querySelector("[data='description']"),h=document.querySelector("[data='duedate']"),C=document.querySelector("[data='priority']"),v=document.querySelector("[data='add']");n.addEventListener("click",(function(){s.removeChild(m),o=!1})),v.addEventListener("click",(function(){let n=new t(`${p.value}`,`${b.value}`,`${h.value}`,`${C.value}`);e(r[i.attributes.data.value].array,n);let l=document.createElement("li");l.classList.add("todo"),l.style.backgroundColor=`${r[i.attributes.data.value].array[r[i.attributes.data.value].array.length-1].priority}`;let s=document.createElement("button"),m=document.createTextNode(`${r[i.attributes.data.value].array[r[i.attributes.data.value].array.length-1].title} ${r[i.attributes.data.value].array[r[i.attributes.data.value].array.length-1].dueDate}`),v=document.createElement("button"),y=document.createElement("button");y.setAttribute("type","button"),v.setAttribute("datanum",""+(r[i.attributes.data.value].array.length-1)),v.classList.add("priority-button"),y.classList.add("view-button"),s.textContent="X",s.classList.add("delete-button"),s.setAttribute("type","button"),s.setAttribute("datanumber",""+(r[i.attributes.data.value].array.length-1)),s.addEventListener("click",(()=>{a(r[i.attributes.data.value].array,s.attributes.datanumber.value),u.removeChild(l);let t=document.querySelectorAll("button[datanumber]");for(let e=0;e<r[i.attributes.data.value].array.length;e++)t[e].setAttribute("datanumber",`${e}`);let e=document.querySelectorAll("button[datanum]");for(let t=0;t<r[i.attributes.data.value].array.length;t++)e[t].setAttribute("datanum",`${t}`);c()})),v.addEventListener("click",(()=>{l.removeChild(m),l.removeChild(v),l.removeChild(s),l.removeChild(y),m=document.createTextNode(`${r[i.attributes.data.value].array[v.attributes.datanum.value].title} ${r[i.attributes.data.value].array[v.attributes.datanum.value].dueDate}`),l.appendChild(m),l.appendChild(v),l.appendChild(s),l.appendChild(y),r[i.attributes.data.value].array[v.attributes.datanum.value].priority=d(r[i.attributes.data.value].array[v.attributes.datanum.value].priority),l.style.backgroundColor=`${r[i.attributes.data.value].array[v.attributes.datanum.value].priority}`,c()})),y.addEventListener("click",(()=>o?(l.removeChild(m),l.removeChild(v),l.removeChild(s),l.removeChild(y),m=document.createTextNode(`${r[i.attributes.data.value].array[v.attributes.datanum.value].title} ${r[i.attributes.data.value].array[v.attributes.datanum.value].dueDate} ${r[i.attributes.data.value].array[v.attributes.datanum.value].description}`),l.appendChild(m),l.appendChild(v),l.appendChild(s),l.appendChild(y),o=!1):o?void 0:(l.removeChild(m),l.removeChild(v),l.removeChild(s),l.removeChild(y),m=document.createTextNode(`${r[i.attributes.data.value].array[v.attributes.datanum.value].title} ${r[i.attributes.data.value].array[v.attributes.datanum.value].dueDate}`),l.appendChild(m),l.appendChild(v),l.appendChild(s),l.appendChild(y),o=!0))),l.appendChild(m),l.appendChild(v),l.appendChild(s),l.appendChild(y),u.appendChild(l),c(),p.value="test",b.value="test",h.value="2021-07-05",C.value="red"}))}}))})),u.addEventListener("click",(function(){i.removeChild(m),o=!1}))}})),u.addEventListener("click",(function(){if(!1===o){l(),o=!0;let n=document.querySelector(".cancel"),u=document.querySelector(".listdiv"),i=document.querySelector("form"),s=document.querySelector("[data='title']"),m=document.querySelector("[data='description']"),p=document.querySelector("[data='duedate']"),b=document.querySelector("[data='priority']"),h=document.querySelector("[data='add']");n.addEventListener("click",(function(){u.removeChild(i),o=!1})),h.addEventListener("click",(function(){let n=new t(`${s.value}`,`${m.value}`,`${p.value}`,`${b.value}`);e(r[1],n);let l=document.querySelector(".defaultList"),u=document.createElement("li");u.classList.add("todo"),u.style.backgroundColor=`${r[1][r[1].length-1].priority}`;let i=document.createElement("button"),h=document.createTextNode(`${r[1][r[1].length-1].title} ${r[1][r[1].length-1].dueDate}`),C=document.createElement("button"),v=document.createElement("button");C.classList.add("priority-button"),v.setAttribute("type","button"),v.classList.add("view-button"),C.setAttribute("datanum",""+(r[1].length-1)),i.textContent="X",i.classList.add("delete-button"),i.setAttribute("type","button"),i.setAttribute("datanumber",""+(r[1].length-1)),i.addEventListener("click",(()=>{a(r[1],i.attributes.datanumber.value),l.removeChild(u);let t=document.querySelectorAll("button[datanumber]");for(let e=0;e<r[1].length;e++)t[e].setAttribute("datanumber",`${e}`);let e=document.querySelectorAll("button[datanum]");for(let t=0;t<r[1].length;t++)e[t].setAttribute("datanum",`${t}`);c()})),C.addEventListener("click",(()=>{u.removeChild(h),u.removeChild(C),u.removeChild(i),u.removeChild(v),h=document.createTextNode(`${r[1][C.attributes.datanum.value].title} ${r[1][C.attributes.datanum.value].dueDate}`),u.appendChild(h),u.appendChild(C),u.appendChild(i),u.appendChild(v),r[1][C.attributes.datanum.value].priority=d(r[1][C.attributes.datanum.value].priority),u.style.backgroundColor=`${r[1][C.attributes.datanum.value].priority}`,c()})),v.addEventListener("click",(()=>o?(u.removeChild(h),u.removeChild(C),u.removeChild(i),u.removeChild(v),h=document.createTextNode(`${r[1][C.attributes.datanum.value].title} ${r[1][C.attributes.datanum.value].dueDate} ${r[1][C.attributes.datanum.value].description}`),u.appendChild(h),u.appendChild(C),u.appendChild(i),u.appendChild(v),o=!1):o?void 0:(u.removeChild(h),u.removeChild(C),u.removeChild(i),u.removeChild(v),h=document.createTextNode(`${r[1][C.attributes.datanum.value].title} ${r[1][C.attributes.datanum.value].dueDate}`),u.appendChild(h),u.appendChild(C),u.appendChild(i),u.appendChild(v),o=!0))),u.appendChild(h),u.appendChild(C),u.appendChild(i),u.appendChild(v),l.appendChild(u),c(),s.value="test",m.value="test",p.value="2021-07-05",b.value="red"}))}}));const c=()=>{localStorage.setItem("listOfProjects",JSON.stringify(r))};console.log(localStorage.listOfProjects.length),console.log(localStorage.listOfProjects),(()=>{if(localStorage.listOfProjects){let e=localStorage.getItem("listOfProjects");e=JSON.parse(e);for(let a=1;a<e.length;a++)for(let d=0;d<e[a].length;d++)e[a][d]=new t(`${e[a][d].title}`,`${e[a][d].description}`,`${e[a][d].dueDate}`,`${e[a][d].priority}`);r=e,(()=>{let t=document.querySelector(".defaultList");for(let e=1;e<r.length;e++)if(1===e)for(let n=0;n<r[e].length;n++){let l=document.createElement("li");l.classList.add("todo"),l.style.backgroundColor=`${r[e][n].priority}`;let u=document.createElement("button"),i=document.createTextNode(`${r[e][n].title} ${r[e][n].dueDate}`),s=document.createElement("button"),m=document.createElement("button");s.classList.add("priority-button"),m.setAttribute("type","button"),m.classList.add("view-button"),s.setAttribute("datanum",`${n}`),u.textContent="X",u.classList.add("delete-button"),u.setAttribute("type","button"),u.setAttribute("datanumber",`${n}`),u.addEventListener("click",(()=>{a(r[e],u.attributes.datanumber.value),t.removeChild(l);let d=document.querySelectorAll("button[datanumber]");for(let t=0;t<r[e].length;t++)d[t].setAttribute("datanumber",`${t}`);let n=document.querySelectorAll("button[datanum]");for(let t=0;t<r[e].length;t++)n[t].setAttribute("datanum",`${t}`);c()})),s.addEventListener("click",(()=>{l.removeChild(i),l.removeChild(s),l.removeChild(u),l.removeChild(m),i=document.createTextNode(`${r[e][s.attributes.datanum.value].title} ${r[e][s.attributes.datanum.value].dueDate}`),l.appendChild(i),l.appendChild(s),l.appendChild(u),l.appendChild(m),r[e][s.attributes.datanum.value].priority=d(r[e][s.attributes.datanum.value].priority),l.style.backgroundColor=`${r[e][s.attributes.datanum.value].priority}`,c()})),m.addEventListener("click",(()=>o?(l.removeChild(i),l.removeChild(s),l.removeChild(u),l.removeChild(m),i=document.createTextNode(`${r[e][s.attributes.datanum.value].title} ${r[e][s.attributes.datanum.value].dueDate} ${r[e][s.attributes.datanum.value].description}`),l.appendChild(i),l.appendChild(s),l.appendChild(u),l.appendChild(m),o=!1):o?void 0:(l.removeChild(i),l.removeChild(s),l.removeChild(u),l.removeChild(m),i=document.createTextNode(`${r[e][s.attributes.datanum.value].title} ${r[e][s.attributes.datanum.value].dueDate}`),l.appendChild(i),l.appendChild(s),l.appendChild(u),l.appendChild(m),o=!0))),l.appendChild(i),l.appendChild(s),l.appendChild(u),l.appendChild(m),t.appendChild(l)}else if(e>1)for(let t=0;t<r[e].array.length;t++){let a=document.createElement("ul"),d=document.createElement("button"),n=document.createElement("button"),l=document.querySelector(".listdiv"),u=document.createElement("li"),i=document.createElement("button"),o=document.createTextNode(`${r[e].array[t].title} ${r[e].array[t].dueDate}`),s=document.createElement("button"),m=document.createElement("button");d.setAttribute("type","button"),d.textContent="+",d.classList.add("add"),n.setAttribute("type","button"),n.textContent="X",n.classList.add("red"),a.textContent=`${r[e].name}`,a.appendChild(d),a.appendChild(n),l.appendChild(a),d.setAttribute("data",`${[e]}`),n.setAttribute("data",`${[e]}`),a.setAttribute("data",`${[e]}`),u.classList.add("todo"),u.style.backgroundColor=`${r[e].array[t].priority}`,s.classList.add("priority-button"),m.setAttribute("type","button"),m.classList.add("view-button"),s.setAttribute("datanum",`${t}`),i.textContent="X",i.classList.add("delete-button"),i.setAttribute("type","button"),i.setAttribute("datanumber",`${t}`),u.appendChild(o),u.appendChild(s),u.appendChild(i),u.appendChild(m),a.appendChild(u),n.addEventListener("click",(function(){r.splice(a.attributes.data.value,1),l.removeChild(a);let t=document.querySelectorAll("ul[data]");for(let e=0;e<r.length-1;e++)t[e].setAttribute("data",`${e}`);c()}))}})()}})(),console.log(r)})();